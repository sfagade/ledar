<?xml version="1.0" encoding="UTF-8"?>
<!-- 
@author sfagade
@date May 11, 2017
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                template="/WEB-INF/templates/default.xhtml">
    <ui:define name="content">
        <!-- f:metadata>
            <f:event type="preRenderView" listener="#{registeredUser.initDeviceUpdate}" />
        </f:metadata -->
        <h:form id="rgDevUpdForm">
            <div id="breadcrumb">
                <ul>
                    <li><a href="#" onclick="history.go(-1);">Go Back</a></li>
                    <li><h:link value="All Registered Devices" outcome="/app/appAdmin/registeredDevices.xhtml" title="Click here to view all devices"/></li>
                    <li><h:link value="Register New Device" outcome="/app/appAdmin/registerNewDevice.xhtml" title="Click here to create new device"/></li>
                </ul>
            </div>
            <h2>Update Device Information</h2>
            <h:messages layout="block" infoClass="success" errorClass="error-message" />
            <div style="margin-right: 50px;" class="input text required">
                <h:outputLabel for="username" value="Device Name:" />
                <h:inputText value="#{registeredUser.selectedDevice.deviceName}" id="username" required="true" />
                <h:message id="m_username" for="username" errorClass="error-message" />
            </div>
            <div style="margin-right: 50px;" class="input text required">
                <h:outputLabel for="mcaddr" value="Mac Address:" />
                <h:inputText value="#{registeredUser.selectedDevice.macAddress}" id="mcaddr" required="true" readonly="true" />
                <h:message id="mcaddr_" for="mcaddr" errorClass="error-message" />
            </div>
            <div style="margin-right: 50px;" class="input text required">
                <h:outputLabel for="imein" value="IMEI Number:" />
                <h:inputText value="#{registeredUser.selectedDevice.imeiNumber}" id="imein" required="true" />
                <h:message id="imein_" for="imein" errorClass="error-message" />
            </div>
            <div style="margin-right: 50px;" class="input text">
                <h:outputLabel for="osvn" value="OS Version:" />
                <h:inputText value="#{registeredUser.selectedDevice.osVersion}" id="osvn" />
                <h:message id="osvn_" for="osvn" errorClass="error-message" />
            </div>
            <div class="input select" style="margin-right: 50px;">
                <h:outputLabel for="offc" value="Device Owner:" />
                <h:selectOneMenu id="offc" value="#{registeredUser.selectedDevice.deviceOwnerById}" converter="#{loginUserConverterBean}">
                    <f:selectItem itemValue="#{null}" itemLabel="(Select One)" />
                    <f:selectItems value="#{registeredUser.allFieldOfficers}" var="auth_role" itemLabel="#{auth_role.person.fullName}" itemValue="#{auth_role}" />
                </h:selectOneMenu>
            </div>
            <div style="margin-right: 50px;" class="input text">
                <h:outputLabel for="rmks" value="Remarks:" />
                <h:inputTextarea value="#{registeredUser.selectedDevice.remarks}" id="rmks" />
                <h:message id="rmks_" for="rmks" errorClass="error-message" />
            </div>
            <div class="submit">
                <h:commandButton id="asu_btn" value="Submit" action="#{registeredUser.updateDeviceInformation}">
                </h:commandButton>
            </div>
        </h:form>
    </ui:define>
</ui:composition>