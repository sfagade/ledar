<?xml version="1.0" encoding="UTF-8"?>
<!--
    
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/default.xhtml">
    <ui:define name="content">
        <div class="ui grid">

            <h:form id="login">
                <div class="header">
                    Welcome to LEDAR Portal!
                </div>
                <div class="ui attached segment">

                    <h:messages globalOnly="true" class="" for="sbtbtn" layout="block" infoClass="success" errorClass="error-message" />
                    <div  class="input text required field">
                        <h:outputLabel for="username" value="Username:" />
                        <h:inputText id="username" value="#{loginBean.username}" required="true">
                            <f:ajax event="blur" render="m_username" />
                        </h:inputText>
                        <h:message id="m_username"  for="username" errorClass="error-message" />
                    </div>
                    <div  class="input text required field">
                        <h:outputLabel for="password" value="Password:" />
                        <h:inputSecret id="password" value="#{loginBean.password}" required="true">
                            <f:ajax event="blur" render="m_password" />
                        </h:inputSecret>
                        <h:message id="m_password" for="password" errorClass="error-message" />
                    </div>
                    <!-- div style="margin-right: 50px;" class="input checkbox">
                        <h:outputLabel for="rememberMe" value="Remember Me:" />
                        <h:selectBooleanCheckbox id="rememberMe" value="#{loginBean.remember}" style="float: none;" />
                    </div -->
                    <div class="field">
                        <h:link id="forgot_pwrod" value="Forgot Password?" outcome="/forgotPword.xhtml" title="Click here to reset password"/>
                    </div>
                    <div style="margin-right: 50px;" class="submit">
                        <h:commandButton class="ui button" value="Login" id="sbtbtn" action="#{loginBean.submit}" >
                            <f:ajax execute="@form" render="@form" />
                        </h:commandButton>
                    </div>
                </div>
                #{not empty request.remoteUser}<br />#{request.remoteUser}
            </h:form>
            <script type="text/javascript">
                <!-- ui:fragment rendered="#{not empty request.remoteUser}">
                window.location = "#{request.contextPath}/app/appAdmin/index.xhtml";
                </ui:fragment -->
                /** <![CDATA[ */
                $(document).ready(function () {
                    if ($('#login\\:username').val() === '') {
                        $('#login\\:username').focus();
                    } else {
                        $('#login\\:password').focus();
                    }
                    //});
                });
                /** ]]> */
            </script>
        </div>
    </ui:define>
</ui:composition>
